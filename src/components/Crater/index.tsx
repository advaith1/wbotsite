import * as React from 'react'

import { Button, Crater, Root } from './elements'

class Crate extends React.PureComponent {
  state = {
    proportions: null as unknown as number[],
    in: false
  };
  button?: SVGPathElement;

  componentDidMount() {
    const { bottom, right } = this.button!.getBoundingClientRect();
    const proportions = [window.innerWidth - right, window.innerHeight - bottom];

    this.setState({ proportions });

    setTimeout(() => {
      this.setState({ in: true });
    }, 100);
  }

  render() {
    return (
      <Root
        viewBox="0 0 434 434"
        proportions={this.state.proportions}
        fadeIn={this.state.in}
      >
        <Crater className="crater">
          <path
            d="M89.961 181.568L34.988 83.129l95.902 52.436-28.575-72.041 73.666 33.013-5.958-47.998 223.975 223.975c18.24 16.76 29.09 40.64 29.09 66.4 0 36.69-21.92 69.43-55.84 83.41-10.52 4.34-21.67 6.62-33.13 6.77l-1.22.01c-14.34 0-27.92-3.36-39.97-9.37-.66-.33-1.32-.66-1.97-1-.66-.33-1.31-.69-1.95-1.06-.65-.35-1.29-.72-1.93-1.11-.52-.3-1.03-.61-1.54-.93-.41-.25-.81-.5-1.21-.76-.55-.35-1.09-.7-1.62-1.06-.69-.46-1.37-.93-2.04-1.42-.58-.41-1.16-.83-1.72-1.25-.58-.43-1.14-.86-1.7-1.3-1.13-.9-2.25-1.82-3.34-2.76-.54-.47-1.08-.95-1.62-1.44L54.64 187.996l35.321-6.428z"
            fill="#697fc8"
          />
          <path
            d="M262.709 339.474c0 29.13 17.747 54.118 43.018 64.733 8.356 3.515 17.539 5.457 27.172 5.457 10.453 0 20.37-2.286 29.285-6.383a70.4 70.4 0 0 0 25.162-19.508c9.845-12.082 15.744-27.501 15.744-44.3 0-20.475-8.764-38.902-22.751-51.732-12.49-11.462-29.149-18.457-47.44-18.457-.317 0-.631.004-.945.004-9.119.125-17.819 1.984-25.781 5.268-25.509 10.51-43.464 35.615-43.464 64.918z"
            fill="#a1b0e2"
            ref={ref => this.button = (ref as SVGPathElement)}
            className="background"
          />
          <path
            d="M402.814 350.249a5 5 0 0 1-4.986-5.446c.175-1.949.263-3.931.263-5.892 0-26.328-15.684-49.928-39.955-60.124-7.993-3.362-16.483-5.067-25.235-5.067a5 5 0 1 1 0-10c10.091 0 19.885 1.968 29.11 5.848 27.992 11.758 46.08 38.977 46.08 69.342 0 2.257-.102 4.539-.302 6.782a5.003 5.003 0 0 1-4.975 4.557zm-5.651 21.929a5 5 0 0 1-4.573-7.018 64.837 64.837 0 0 0 2.56-6.832 5 5 0 0 1 9.547 2.974 74.582 74.582 0 0 1-2.956 7.89 5 5 0 0 1-4.578 2.986zM332.9 414.102c-8.926 0-17.662-1.549-25.967-4.605a5 5 0 1 1 3.453-9.385 64.997 64.997 0 0 0 22.514 3.99l.944-.004a64.764 64.764 0 0 0 23.875-4.89 65.366 65.366 0 0 0 27.372-21.228 5 5 0 0 1 8 6 75.38 75.38 0 0 1-31.562 24.473c-8.763 3.615-18.056 5.514-27.617 5.645l-1.012.004zm-47.442-18.457a4.981 4.981 0 0 1-3.379-1.316c-15.487-14.209-24.37-34.408-24.37-55.417 0-29.288 17.199-56.117 43.817-68.351a5 5 0 1 1 4.176 9.086c-23.08 10.608-37.993 33.871-37.993 59.265 0 18.215 7.702 35.729 21.13 48.049a5 5 0 0 1-3.381 8.684zm-87.234-58.906a4.983 4.983 0 0 1-3.535-1.464L7.49 148.076a5 5 0 1 1 7.07-7.071l187.199 187.199a5 5 0 0 1-3.535 8.535z"
            fill="#333"
          />
          <path
            d="M332.931 434.027c-25.05 0-49.344-9.855-67.317-27.829l-53.425-53.424a5 5 0 1 1 7.07-7.071l53.425 53.424c19.708 19.708 47.918 28.507 75.458 23.538a5 5 0 1 1 1.776 9.841 95.632 95.632 0 0 1-16.987 1.521zm39.491-9.072a5 5 0 0 1-2.191-9.497 84.754 84.754 0 0 0 22.885-16.331c26.507-26.507 32.498-68.027 14.569-100.967a5 5 0 0 1 8.783-4.781c9.616 17.667 13.404 38.443 10.666 58.501-2.83 20.735-12.148 39.518-26.948 54.318a94.71 94.71 0 0 1-25.58 18.252 4.975 4.975 0 0 1-2.184.505zm24.229-144.795a4.983 4.983 0 0 1-3.535-1.464L252.359 137.938a5 5 0 1 1 7.07-7.071l140.757 140.757a5 5 0 0 1-3.535 8.536zM245.227 128.736a4.983 4.983 0 0 1-3.535-1.464L122.955 8.536a5 5 0 1 1 7.07-7.071l118.736 118.736a5 5 0 0 1-3.534 8.535zm-80.283-41.05a4.98 4.98 0 0 1-3.535-1.465L135.438 60.25a5 5 0 1 1 7.07-7.071l25.971 25.971a5 5 0 0 1-3.535 8.536zm163.667 163.666a4.983 4.983 0 0 1-3.535-1.464L175.742 100.554a5 5 0 1 1 7.07-7.071l149.334 149.334a5 5 0 0 1-3.535 8.535zm-123.734-80.266a4.983 4.983 0 0 1-3.535-1.464L97.656 65.934a5 5 0 1 1 7.07-7.071L208.413 162.55a5 5 0 0 1-3.536 8.536zm75.529 75.528a4.983 4.983 0 0 1-3.535-1.464l-58.195-58.195a5 5 0 1 1 7.07-7.071l58.195 58.195a5 5 0 0 1-3.535 8.535zm11.173 11.177c-1.31 0-2.6-.53-3.529-1.46a5.02 5.02 0 0 1-1.08-1.63 4.94 4.94 0 0 1-.391-1.91c0-1.32.54-2.6 1.471-3.53.229-.23.479-.44.76-.63.27-.18.56-.33.859-.46a5.108 5.108 0 0 1 2.89-.28c.319.06.64.16.939.28.301.13.591.28.86.46a5.026 5.026 0 0 1 2.22 4.16c0 .33-.029.66-.09.98-.07.32-.16.63-.29.93a5.02 5.02 0 0 1-1.08 1.63c-.229.23-.49.44-.76.62s-.56.33-.86.46c-.3.12-.62.22-.939.28-.319.07-.649.1-.98.1zM100.811 110.485a4.983 4.983 0 0 1-3.535-1.464L75.922 87.668a5 5 0 1 1 7.07-7.071l21.354 21.354a5 5 0 0 1-3.535 8.534zm10.999 10.996c-1.32 0-2.61-.53-3.54-1.46s-1.46-2.22-1.46-3.53c0-.33.03-.66.1-.98.061-.32.16-.64.28-.94.13-.3.28-.59.46-.86.18-.28.39-.53.62-.76a5.088 5.088 0 0 1 4.52-1.37c.32.07.63.16.931.29.3.12.59.28.859.46.28.18.53.39.761.62.239.23.449.48.63.76.18.27.33.56.46.86.12.3.22.62.279.94.07.32.101.65.101.98 0 .32-.03.65-.101.97-.06.32-.159.63-.279.94-.13.3-.28.59-.46.86-.19.27-.391.53-.63.76-.23.23-.48.44-.761.62-.27.18-.56.34-.859.46-.301.13-.61.22-.931.29-.32.06-.65.09-.98.09zm146.862 146.866a4.983 4.983 0 0 1-3.535-1.464L120.609 132.354a5 5 0 1 1 7.07-7.071l134.528 134.528a5 5 0 0 1-3.535 8.536zm-44.469-1.003a4.983 4.983 0 0 1-3.535-1.464L31.453 86.665a5 5 0 1 1 7.07-7.071l179.215 179.215a5 5 0 0 1-3.535 8.535zm36.208 36.208a4.983 4.983 0 0 1-3.535-1.464l-26.333-26.333a5 5 0 1 1 7.07-7.071l26.333 26.333a5 5 0 0 1-3.535 8.535zm-159.4-115.933a4.983 4.983 0 0 1-3.535-1.464L51.18 149.858a5 5 0 1 1 7.07-7.071l36.296 36.296a5 5 0 0 1-3.535 8.536zm67 67a4.983 4.983 0 0 1-3.535-1.464l-49.833-49.833a5 5 0 1 1 7.07-7.071l49.833 49.833a5 5 0 0 1-3.535 8.535zm85.667 85.666a4.983 4.983 0 0 1-3.535-1.464l-75.667-75.667a5 5 0 1 1 7.07-7.071l75.667 75.667a5 5 0 0 1-3.535 8.535z"
            fill="#333"
          />
        </Crater>
        <defs>
          <symbol
            id="logo"
            viewBox="0 0 458 458"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill="#fff"
              stroke="#7289da"
              strokeWidth={0}
              d="M376.926 84.533H84.074C71.884 84.533 62 95.063 62 108.052V305.61c0 12.989 9.883 23.519 22.074 23.519h97.2l32.333 40.956c4.194 5.313 10.377 8.381 16.894 8.381 6.516 0 12.699-3.067 16.893-8.38l32.333-40.956h97.199c12.191 0 22.074-10.53 22.074-23.52V108.054c0-12.99-9.883-23.52-22.074-23.52zm0 221.077H269.449L230.5 354.946l-38.948-49.336H84.074V108.052h292.852V305.61z"
            />
            <path
              fill="#fff"
              stroke="#7289da"
              strokeWidth={0}
              d="M124.84 175.054h100.805c6.096 0 11.037-5.265 11.037-11.76s-4.941-11.759-11.037-11.759H124.84c-6.095 0-11.037 5.265-11.037 11.76s4.942 11.759 11.037 11.759zm-10.598 60.365c0 6.494 4.942 11.76 11.037 11.76h210.442c6.095 0 11.037-5.266 11.037-11.76s-4.942-11.76-11.037-11.76H125.279c-6.095 0-11.037 5.266-11.037 11.76z"
            />
          </symbol>
        </defs>
        <Button className="button">
          <use
            xlinkHref="#logo"
            transform="rotate(-44.42190933227539 372.1122436523439,305.2442016601563) matrix(0.2612571866972693,0,0,0.2612571866972693,210.53139649309367,247.46563692466378) "
            y="0.886855"
            x="200.01966"
          />
        </Button>
      </Root>
    )
  }
}
export default Crate
